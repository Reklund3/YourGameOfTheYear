@model IEnumerable<UserReview>
@inject YourGameOfTheYear.Data.YourGameOfTheYearContext context
@{ 
    var UserNickNames = context.UsersInfo;
}
<div>
    <table class="table table-condensed" style="margin-top:20px">
        <tr>
            <th>Title</th>
            <th>Review</th>
            <th>Rating</th>
            <th>User</th>
            <th>Review Date</th>
        </tr>

        @foreach (var item in Model)
        {
        <tr>
            <td>
                @item.UserReviewTitle
            </td>
            <td>
                @item.UserDescription
            </td>
            <td>
                @item.UserRating
            </td>
            <td>
                @if(UserNickNames.FirstOrDefault(x => x.Id == item.UserId).NickName == null)
                {
                    @UserNickNames.FirstOrDefault(x => x.Id == item.UserId).UserName
                }
                @UserNickNames.FirstOrDefault(x => x.Id == item.UserId).NickName
            </td>
            <td>
                @item.ReviewDate
            </td>
        </tr>
        }
    </table>
</div>
